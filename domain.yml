version: "3.1"

actions:
  - action_check_sufficient_funds

slots:
  application_inquiry_type:
    type: categorical
    values:
      - "No progress."
      - "Confirmation."
      - "History and status."
      - "Contract details."
      - "Download contract."
      - "Unable to confirm."
    mappings:
      - type: from_llm

  status_display_flag:
    type: bool
    mappings:
      - type: from_llm

  billing_inquiry_type:
    type: categorical
    values:
      - "unknown charge"
      - "double billing"
      - "billing statement"
    mappings:
      - type: from_llm

  statement_month:
    type: text
    mappings:
      - type: from_llm

  order_delivery_type:
    type: categorical
    values:
      - "SIM"
      - "eSIM"
      - "Other"
    mappings:
      - type: from_llm

  account_change_type:
    type: categorical
    values:
      - "name"
      - "contracter"
    mappings:
      - type: from_llm

responses:
  utter_sth_went_wrong:
    - text: "Something went wrong."

  # Application-Status_1
  utter_ask_application_inquiry_type:
    # - text: "Regarding your application and contract details, which of the following are you asking about:"
    #   buttons:
    #   - title: "Application is not progressing."
    #     payload: "/SetSlots(application_inquiry_type=No progress.)"
    #   - title: "I want to know if my application is complete."
    #     payload: "/SetSlots(application_inquiry_type=Confirmation.)"
    #   - title: "Check application history and delivery status."
    #     payload: "/SetSlots(application_inquiry_type=History and status.)"
    #   - title: "Confirm contract details."
    #     payload: "/SetSlots(application_inquiry_type=Contract details.)"
    #   - title: "Download contract."
    #     payload: "/SetSlots(application_inquiry_type=Download contract.)"
    #   - title: "Unable to confirm contract details."
    #     payload: "/SetSlots(application_inquiry_type=Unable to confirm.)"
    - text: "お申し込みやご契約内容についてのお問い合わせですね。\n どちらについてお尋ねですか？ \n※お申し込みの審査内容・基準について、弊社よりお答えすることはできませんのであらかじめご了承ください。"
      buttons:
      - title: "お申し込みが進まない"
        payload: "/SetSlots(application_inquiry_type=No progress.)"
      - title: "申し込み完了しているか知りたい"
        payload: "/SetSlots(application_inquiry_type=Confirmation.)"
      - title: "申し込み履歴・配送状況の確認"
        payload: "/SetSlots(application_inquiry_type=History and status.)"
      - title: "契約内容の確認"
        payload: "/SetSlots(application_inquiry_type=Contract details.)"
      - title: "契約書のダウンロード"
        payload: "/SetSlots(application_inquiry_type=Download contract.)"
      - title: "契約内容が確認できない"
        payload: "/SetSlots(application_inquiry_type=Unable to confirm.)"

  # Application-Status_1_1
  utter_application_status_1_1:
    - text: "お申し込み受付後、審査および申込内容の確認に最大3日程度かかることがあります。\n my 楽天モバイルでのお申し込み状況の表示が変わらない場合、審査が進行中ですので今しばらくお待ちください。\n お申し込み状況の確認方法は<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001827/" target="_blank">こちら</a>でご案内しています。\nなお、本人確認書類に不備があった場合、もしくは審査の結果お申し込みを承れない場合は、ご案内メールが届きます。"

  # Application-Status_1_2
  utter_ask_status_display_flag:
    # - text: "You can check the progress of your application here.\n Is the corresponding application displayed?"
    #   buttons:
    #   - title: "Yes"
    #     payload: "/SetSlots(status_display_flag=True)"
    #   - title: "No"
    #     payload: "/SetSlots(status_display_flag=False)"
    - text: "お申し込みの進行状況はmy 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#orders" target="_blank">申し込み履歴</a>」で確認できます。\n「申し込み履歴」に該当のお申し込みは表示されていますか？"
      buttons:
      - title: "はい"
        payload: "/SetSlots(status_display_flag=True)"
      - title: "いいえ"
        payload: "/SetSlots(status_display_flag=False)"

  # Application-Status_1_2_1
  utter_application_status_1_2_1:
    - text: "該当の申込番号の下に「申し込み受付」と表示されている場合、本人確認書類またはデータを審査中です。\n審査および申込内容の確認に最大3日程度かかることがありますので、メールでのご案内があるまでお待ちください。\n「お届け準備中」または「お届け中」のステータスの場合、お申し込みと審査が完了しています。\n※システムへの反映状況により、「お届け準備中」や「お届け中」のまま数日経過する場合があります。\n注文は正常に処理されていますので、恐れ入りますが到着までいましばらくお待ちください。\nそれ以外の表示が出ている場合については<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001364/#:~:text=%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82-,%E8%A1%A8%E7%A4%BA%E3%81%95%E3%82%8C%E3%81%9F%E7%94%BB%E9%9D%A2%E3%81%A8%E5%AF%BE%E5%BF%9C%E6%96%B9%E6%B3%95,-%E3%80%8C%E7%94%B3%E3%81%97%E8%BE%BC%E3%81%BF%E5%8F%97%E4%BB%98%E3%80%8D%E3%81%A8" target="_blank">こちら</a>で詳しくご案内しています。"

  # Application-Status_1_2_2
  utter_application_status_1_2_2:
    - text: "お申し込みができていない、もしくはログインしている楽天IDがお申し込み時のものとは異なっている可能性があります。\nお申し込み時に利用した楽天IDをご確認のうえ、再度ログインをお試しください。\nまた、ご家族のID等、別の楽天IDでログインしていないかご確認ください。\nお心当たりのある楽天IDでログインしても申し込み履歴が表示されない場合は、お手数ですが、再度お申し込みをお願いします。\nお申し込みが問題なく完了しているかの確認について、詳しくは<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001827/" target="_blank">こちら</a>をご確認ください。"

  # Application-Status_1_3
  utter_application_status_1_3:
    - text: "お申し込み履歴や配送状況について、「<a href="https://portal.mobile.rakuten.co.jp//dashboard#orders" target="_blank">申し込み履歴</a>」から確認することができます。\n確認方法については<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001364/" target="_blank">こちら</a>でご案内しています。\nシステムへの反映状況により、お届け準備中やお届け中のまま数日経過する場合があります。\n注文は正常に処理されていますので、恐れ入りますが到着までいましばらくお待ちください。"

  # Application-Status_1_4
  utter_application_status_1_4:
    - text: "my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#plans" target="_blank">契約プラン</a>」で現在ご契約中のプラン、オプションサービス、サービス利用開始日を確認できます。\nまた「準備中」や「契約内容がありません」と表示される場合は、my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#orders" target="_blank">申し込み履歴</a>」をご確認ください。\n申し込み内容の確認方法について詳しくは<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001827/" target="_blank">こちら</a>をご確認ください。"

  # Application-Status_1_5
  utter_application_status_1_5:
    - text: "my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#contracts" target="_blank">契約情報</a>」でご契約時の契約書をダウンロードできます。\nまた「準備中」や「契約内容がありません」と表示される場合は、my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#orders" target="_blank">申し込み履歴</a>」をご確認ください。\n契約書の確認・ダウンロード方法について詳しくは<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001907/" target="_blank">こちら</a>をご確認ください。"

  # Application-Status_1_6
  utter_application_status_1_6:
    - text: "my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#plans" target="_blank">契約プラン</a>」で現在ご契約中のプラン、オプションサービス、サービス利用開始日を確認できます。\nまた「準備中」や「契約内容がありません」と表示される場合は、my 楽天モバイルの「<a href="https://portal.mobile.rakuten.co.jp//dashboard#orders" target="_blank">申し込み履歴</a>」をご確認ください。\nmy 楽天モバイルに申込番号が表示されない、製品の購入履歴が見当たらない場合は、ログインしている楽天IDでのお申し込みが完了していません。\nログアウト後、お申し込みいただいた際の楽天IDをご確認のうえ、再度ログインをお試しください。\nご家族のID等、別の楽天IDでログインしていないかご確認ください。\n【ログアウト方法】\nmy 楽天モバイル画面右上の三本線メニュー最下部から「ログアウト」を選択\nお申し込み完了のメールを受け取っておらず、お心当たりのある楽天IDでログインしても申し込み履歴が表示されない場合は、お手数ですが、再度お申し込みをお願いします。\nmy 楽天モバイルにログインできない場合は<a href="https://network.mobile.rakuten.co.jp/faq/detail/00001207/" target="_blank">こちら</a>をご確認ください。"

  utter_ask_billing_inquiry_type:
    - text: "Regarding fees and billing, please choose your problem from the following:"
      buttons:
      - title: "I have a charge that I don't recognize."
        payload: "/SetSlots(billing_inquiry_type=unknown charge)"
      - title: "There is a double charge."
        payload: "/SetSlots(billing_inquiry_type=double billing)"
      - title: "Issuance of usage statement."
        payload: "/SetSlots(billing_inquiry_type=billing statement)"

  utter_ask_statement_month:
    - text: "Which month's statement would you like to view?"

  utter_billing_statement:
    - text: "Please find your billing statement for {statement_month} here."

  utter_double_billing:
    - text: "It seems you have a doulble billing error. Please follow these instructions to resolve this issue."

  utter_ask_order_delivery_type:
    - text: "Which type of delivery are you asking about? Please choose from the following:"
      buttons:
      - title: "SIM card"
        payload: "/SetSlots(order_delivery_type=SIM)"
      - title: "eSIM"
        payload: "/SetSlots(order_delivery_type=eSIM)"
      - title: "Other products/accessories"
        payload: "/SetSlots(order_delivery_type=Other)"

  utter_delivery_status_1_1:
    - text: "delivery_status_1_1"

  utter_delivery_status_1_2:
    - text: "delivery_status_1_2"

  utter_delivery_status_1_3:
    - text: "delivery_status_1_3"

  utter_ask_account_change_type:
    - text: "Regarding name change and transfers, which of the following are you asking about:"
      buttons:
      - title: "Change surname/name"
        payload: "/SetSlots(account_change_type=name)"
      - title: "Change contracter (assignment)"
        payload: "/SetSlots(account_change_type=contracter)"

  utter_account_change_1_1:
    - text: "account_change_1_1"

  utter_account_change_1_2:
    - text: "account_change_1_1"

  utter_billing_error:
    - text: "It seems you have an error with billing."